
grf{
	grfid: "\57\48\10\37";
	name: string(STR_GRF_NAME);
	desc: string(STR_GRF_DESC);
	version:1;
	min_compatible_version:0;
}

train_width_32_px  = 1;
traininfo_y_offset = 2;

cargotable {
//Default cargos
	PASS, MAIL, COAL, FOOD, GOLD, GOOD, GRAI, IORE, LVST, OIL_, PAPR, STEL, VALU, WHEA, WOOD,

//Tropical cargos
	CORE, DIAM, FRUT, MAIZ, RUBR, WATR, 

//ECS
	AORE, BDMT, BRCK, CERA, CERE, CMNT, DYES, FERT, FICR, FISH, GLAS, LIME, OLSD, PETR, PLAS, POTA, RFPR, SAND, SULP, TOUR, VEHI, WDPR, WOOL, 
   
//FIRS
	BEAN, BEER, BOOM, CLAY, CASS, COKE, ENSP, EOIL, FMSP, FRVG, GRVL, IRON, METL, MNO2, MILK, MNSP, NICK, NITR, NUTS, PHOS, PIPE, PORE, QLME, RCYC, SASH, SCMT, SGBT, SGCN, SLAG, VBOD, VPTS, JAVA, COPR, SUGR, ZINC, KAOL, TWOD,
   
	SCRP, //Old scrap metal
   
//Nuclear stuff
	URAN, NWST
}


railtypetable {
	"RAIL", "ELRL"
}


/* TEMPLATE_<length>_<number of views>_<A or B end first>

	Sprites should be aligned on a grid system.
	Starting from 0, this will for simple referencing of sprite sheets.
	Fourth Row Third Column, X=2 y=3, X of 500 and a Y of 120.

*/

template TEMPLATE_8_8_A(x,y){
	[x*250,		y*40,	12,	30,		-5,		-17,	ANIM]	// NORTH	
	[x*250+16,	y*40,	26,	24,		-16,	-15,	ANIM]	// NORTH EAST
	[x*250+46,	y*40,	37,	22,		-19,	-17,	ANIM]	// EAST
	[x*250+87,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250+117,	y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+133,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+163,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+204,	y*40,	26,	24,		-8,		-15,	ANIM]	// NORTH WEST
}

template TEMPLATE_8_8_B(x,y){
	[x*250+117,	y*40,	12,	30,		-5,		-17,	ANIM]	// NORTH	
	[x*250+133,	y*40,	26,	24,		-16,	-15,	ANIM]	// NORTH EAST
	[x*250+163,	y*40,	37,	22,		-19,	-17,	ANIM]	// EAST
	[x*250+204,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250,		y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+16,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+46,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+87,	y*40,	26,	24,		-8,		-15,	ANIM]	// NORTH WEST
}

template TEMPLATE_8_4_A(x,y){
	[x*250,		y*40,	12,	30,		-5,		-17,	ANIM]	// NORTH	
	[x*250+16,	y*40,	26,	24,		-16,	-15,	ANIM]	// NORTH EAST
	[x*250+46,	y*40,	37,	22,		-19,	-17,	ANIM]	// EAST
	[x*250+87,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250+117,	y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+133,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+163,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+204,	y*40,	26,	24,		-8,		-15,	ANIM]	// NORTH WEST
}

template TEMPLATE_7_8_A(x,y){
	[x*250,		y*40,	12,	30,		-5,		-19,	ANIM]	// NORTH	
	[x*250+16,	y*40,	26,	24,		-14,	-16,	ANIM]	// NORTH EAST
	[x*250+46,	y*40,	37,	22,		-15,	-17,	ANIM]	// EAST
	[x*250+87,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250+117,	y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+133,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+163,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+204,	y*40,	26,	24,		-10,	-16,	ANIM]	// NORTH WEST
}
	
template TEMPLATE_7_8_B(x,y){
	[x*250+117,	y*40,	12,	30,		-5,		-19,	ANIM]	// NORTH	
	[x*250+133,	y*40,	26,	24,		-14,	-16,	ANIM]	// NORTH EAST
	[x*250+163,	y*40,	37,	22,		-15,	-17,	ANIM]	// EAST
	[x*250+204,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250,		y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+16,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+46,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+87,	y*40,	26,	24,		-10,	-16,	ANIM]	// NORTH WEST
}
	
template TEMPLATE_7_4(x,y){
	[x*250,		y*40,	12,	30,		-5,		-19,	ANIM]	// NORTH	
	[x*250+16,	y*40,	26,	24,		-14,	-16,	ANIM]	// NORTH EAST
	[x*250+46,	y*40,	37,	22,		-15,	-17,	ANIM]	// EAST
	[x*250+87,	y*40,	26,	24,		-8,		-15,	ANIM]	// SOUTH EAST
	[x*250,		y*40,	12,	30,		-5,		-17,	ANIM]	// SOUTH
	[x*250+16,	y*40,	26,	24,		-16,	-15,	ANIM]	// SOUTH WEST
	[x*250+46,	y*40,	37,	22,		-19,	-17,	ANIM]	// WEST
	[x*250+87,	y*40,	26,	24,		-10,	-16,	ANIM]	// NORTH WEST
}

/*	SPRITE_<train model name>_<type>_<up to 5 letter livery>_<A or B end first>

	Even though we're going to have our code generated by python, we want it to still be human readable

	model:
		
		NON-TOPS:
		
			Company followed by model name or number, followed by variant if applicable
			Steam: e.g. LMSBLACK5, LBSCRE1
			Metro: e.g. LU1973, TWMETRO_1
			Wagon: e.g. TEATANK, MARK3_1 
		
		TOPS:
		
			Simply CL followed by number and subclass (if needed)
			e.g.  CL508, CL08, CL37_7
			
	types:	
		
		LOCO locomotive, WAGN any other trailing vehicle, LIGH head or tail lights, PANT pantograph, STCK other sprite stack
		MURT multiple unit root, MUXX multiple unit generic trailer, MU01 MU02 MU03 etc for specific parts of an MU
			
*/
	


spriteset(SPRITE_TEST_LOCO_BASE_A, "templates/lengths.png"){TEMPLATE_7_8_A(0,1)}
spriteset(SPRITE_TEST_LOCO_BASE_B, "templates/lengths.png"){TEMPLATE_7_8_B(0,1)}
spriteset(SPRITE_TEST_LOCO_BASE_C, "templates/lengths.png"){TEMPLATE_7_4(0,1)}



switch(FEAT_TRAINS,PARENT,SW_TEST_LOCO_BASE,vehicle_is_reversed){0:SPRITE_TEST_LOCO_BASE_A;SPRITE_TEST_LOCO_BASE_B;}
switch(FEAT_TRAINS,SELF,SW_TEST_LOCO_LIVERY,cargo_subtype){0:SW_TEST_LOCO_BASE;SPRITE_TEST_LOCO_BASE_C;}
switch(FEAT_TRAINS,SELF,SW_TEST_LOCO_TEXT,cargo_subtype){0:string(STR_GRF_NAME);1:string(STR_GRF_DESC);CB_RESULT_NO_TEXT;}

/*	
	
	IDs:	maximum is 65535
	
	nvm can't use this
	
			NXYYZ
			N = Type (0=TOPS class, 1 = TOPS MU part, 2 = steam loco, 3 = tender, 4 = coach or wagon, 5 = pre-tops diesel/electric loco & MUs, 6 = Non National Rail vehicles, donut use 7+)
			
			TOPS:
				XYY = tops class, Z = subclass
			
			Steam loco + Tender:
				X = company/era
				YY = unique identifier taken from class/arbitrarily assigned number
				Z = variant
				
			Coach/wagon:
				XYY = arbitrarily assigned number
				Z = variant
				
			Pre tops:
				XYY = unique identifier taken from class/arbitrarily assigned number
				Z = variant or MU part
				
			Non National Rail:
				X = Location (0 = London, 1 = Liverpool/Manchester, 2 = Scotland, 4 = Other)
				YY = unique identifier taken from class/arbitrarily assigned number
				Z = variant or MU part
			
			N = Position in consist (max 5, but we should rarely go above 1)
			X = Overarching type (0xx,1xx,2xx,3xx,4xx,5xx,7xx,8xx = third TOPS digit, 5 = wagons)
			YY = last two digits of class number
			Z = subclass for tops
			
			examples:
			
			00372 - class 37 centre headcode
			13774 - class 377/4 trailer 1
			26350 - Merchant Navy class
			36351 - Tender for Merchant Navy Rebuild
			62031 - New glasgow subway MU part

*/

switch(FEAT_TRAINS,SELF,SW_TEST_LOCO_ARTPART, extra_callback_info1){
	1..4:ITEM_TEST;
	return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}


item (FEAT_TRAINS, ITEM_TEST, 6400){
	property{
		name:							string(STR_TEMP);
		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1,1,1);
		cargo_allow_refit:				[MAIL];
		cargo_capacity:					1;
		model_life:						VEHICLE_NEVER_EXPIRES;
		vehicle_life:					100;
		reliability_decay:				1;
		cost_factor:					1;
		running_cost_base:				1;
		running_cost_factor:			1;	
		speed:							200 mph;
		track_type:						RAIL;
		power:							5000 kW;
		weight:							100 ton;
		engine_class:					ENGINE_CLASS_DIESEL;
		tractive_effort_coefficient:	0.4;			
		air_drag_coefficient:			0.1;	
		length:							7;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
	}
	graphics{
		default:SW_TEST_LOCO_LIVERY;
		cargo_subtype_text:SW_TEST_LOCO_TEXT;
		cargo_capacity:return 40;
		articulated_part:SW_TEST_LOCO_ARTPART;
	}
}
























//Length 8

//4 views
template template_old_8_4(x,y){
	[x+0,	y,	10,	26,	-4,		-14,	ANIM] // NORTH	
	[x+12,	y,	22,	20,	-14,	-12,	ANIM] // NORTH EAST
	[x+36,	y,	33,	16,	-17,	-12,	ANIM] // EAST
	[x+71,	y,	22,	20,	-6,		-12,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	26,	-4,		-14,	ANIM] // SOUTH
	[x+12,	y,	22,	20,	-14,	-12,	ANIM] // SOUTH WEST
	[x+36,	y,	33,	16,	-17,	-12,	ANIM] // WEST
	[x+71,	y,	22,	20,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views
template template_old_8_8(x,y){
	[x+0,	y,	10,	26,	-4,		-14,	ANIM] // NORTH	  
	[x+12,	y,	22,	20,	-14,	-12,	ANIM] // NORTH EAST
	[x+36,	y,	33,	16,	-17,	-12,	ANIM] // EAST
	[x+71,	y,	22,	20,	-6,		-12,	ANIM] // SOUTH EAST
	[x+95,	y,	10,	26,	-4,		-14,	ANIM] // SOUTH
	[x+107,	y,	22,	20,	-14,	-12,	ANIM] // SOUTH WEST
	[x+131,	y,	33,	16,	-17,	-12,	ANIM] // WEST
	[x+166,	y,	22,	20,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views, reversed
template template_old_8_8_rev(x,y){
	[x+95,	y,	10,	26,	-4,		-14,	ANIM] // NORTH	  
	[x+107,	y,	22,	20,	-14,	-12,	ANIM] // NORTH EAST
	[x+131,	y,	33,	16,	-17,	-12,	ANIM] // EAST
	[x+166,	y,	22,	20,	-6,		-12,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	26,	-4,		-14,	ANIM] // SOUTH
	[x+12,	y,	22,	20,	-14,	-12,	ANIM] // SOUTH WEST
	[x+36,	y,	33,	16,	-17,	-12,	ANIM] // WEST
	[x+71,	y,	22,	20,	-6,		-12,	ANIM] // NORTH WEST
}


//Length 7

//4 views
template template_old_7_4(x,y){
	[x+0,	y,	10,	24,	-4,		-14,	ANIM] // NORTH	
	[x+12,	y,	20,	19,	-12,	-12,	ANIM] // NORTH EAST
	[x+34,	y,	29,	16,	-13,	-12,	ANIM] // EAST
	[x+65,	y,	20,	19,	-4,		-11,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	24,	-4,		-12,	ANIM] // SOUTH
	[x+12,	y,	20,	19,	-14,	-11,	ANIM] // SOUTH WEST
	[x+34,	y,	29,	16,	-17,	-12,	ANIM] // WEST
	[x+65,	y,	20,	19,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views
template template_old_7_8(x,y){
	[x+0,	y,	10,	24,	-4,		-14,	ANIM] // NORTH	  
	[x+12,	y,	20,	19,	-12,	-12,	ANIM] // NORTH EAST
	[x+34,	y,	29,	16,	-13,	-12,	ANIM] // EAST
	[x+65,	y,	20,	19,	-4,		-11,	ANIM] // SOUTH EAST
	[x+87,	y,	10,	24,	-4,		-12,	ANIM] // SOUTH
	[x+99,	y,	20,	19,	-14,	-11,	ANIM] // SOUTH WEST
	[x+121,	y,	29,	16,	-17,	-12,	ANIM] // WEST
	[x+152,	y,	20,	19,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views, reversed
template template_old_7_8_rev(x,y){
	[x+87,	y,	10,	24,	-4,		-14,	ANIM] // NORTH	  
	[x+99,	y,	20,	19,	-12,	-12,	ANIM] // NORTH EAST
	[x+121,	y,	29,	16,	-13,	-12,	ANIM] // EAST
	[x+152,	y,	20,	19,	-4,		-11,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	24,	-4,		-12,	ANIM] // SOUTH
	[x+12,	y,	20,	19,	-14,	-11,	ANIM] // SOUTH WEST
	[x+34,	y,	29,	16,	-17,	-12,	ANIM] // WEST
	[x+65,	y,	20,	19,	-6,		-12,	ANIM] // NORTH WEST
}


//Length 6

//4 views
template template_old_6_4(x,y){
	[x+0,	y,	10,	22,	-4,		-14,	ANIM] // NORTH	
	[x+12,	y,	18,	18,	-10,	-12,	ANIM] // NORTH EAST
	[x+32,	y,	25,	16,	-9,		-12,	ANIM] // EAST
	[x+59,	y,	18,	18,	-2,		-10,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	22,	-4,		-10,	ANIM] // SOUTH
	[x+12,	y,	18,	18,	-14,	-10,	ANIM] // SOUTH WEST
	[x+32,	y,	25,	16,	-17,	-12,	ANIM] // WEST
	[x+59,	y,	18,	18,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views
template template_old_6_8(x,y){
	[x+0,	y,	10,	22,	-4,		-14,	ANIM] // NORTH	  
	[x+12,	y,	18,	18,	-10,	-12,	ANIM] // NORTH EAST
	[x+32,	y,	25,	16,	-9,		-12,	ANIM] // EAST
	[x+59,	y,	18,	18,	-2,		-10,	ANIM] // SOUTH EAST
	[x+79,	y,	10,	22,	-4,		-10,	ANIM] // SOUTH
	[x+91,	y,	18,	18,	-14,	-10,	ANIM] // SOUTH WEST
	[x+111,	y,	25,	16,	-17,	-12,	ANIM] // WEST
	[x+138,	y,	18,	18,	-6,		-12,	ANIM] // NORTH WEST
}

//8 views, reversed
template template_old_6_8_rev(x,y){
	[x+79,	y,	10,	22,	-4,		-14,	ANIM] // NORTH	  
	[x+91,	y,	18,	18,	-10,	-12,	ANIM] // NORTH EAST
	[x+111,	y,	25,	16,	-9,		-12,	ANIM] // EAST
	[x+138,	y,	18,	18,	-2,		-10,	ANIM] // SOUTH EAST
	[x+0,	y,	10,	22,	-4,		-10,	ANIM] // SOUTH
	[x+12,	y,	18,	18,	-14,	-10,	ANIM] // SOUTH WEST
	[x+32,	y,	25,	16,	-17,	-12,	ANIM] // WEST
	[x+59,	y,	18,	18,	-6,		-12,	ANIM] // NORTH WEST
}

















spriteset(gfx_olddefault, "base.png"){	template_old_6_8(0,60)}
spriteset(gfx_olddefault_rev, "base.png"){	template_old_6_8_rev(0,60)}

switch(FEAT_TRAINS, PARENT, sw_testingold_default, vehicle_is_reversed){1:gfx_olddefault_rev;gfx_olddefault;}

item (FEAT_TRAINS, item_testingold){
	property{
		name:							string(STR_TEMP);
		climates_available:				NO_CLIMATE;
		introduction_date:				date(1,1,1);
		model_life:						VEHICLE_NEVER_EXPIRES;
		vehicle_life:					100;
		reliability_decay:				1;
		cost_factor:					1;
		running_cost_base:				1;
		running_cost_factor:			1;	
		speed:							200 mph;
		track_type:						RAIL;
		power:							5000 kW;
		weight:							100 ton;
		engine_class:					ENGINE_CLASS_DIESEL;
		tractive_effort_coefficient:	0.4;			
		air_drag_coefficient:			0.1;	
		length:							6;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
	}
	graphics{
		default:sw_testingold_default;
	}
}














